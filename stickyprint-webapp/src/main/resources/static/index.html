<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Sticky Print</title>
    <script src="https://code.jquery.com/jquery-2.2.2.js"></script>
    <script src="https://cdn.tinymce.com/4/tinymce.min.js"></script>
    <script>

        tinymce.init({
            selector: '#html'
        });


    </script>
</head>
<body>
<h1>Sticky Print</h1>
<script>
    function generatePreview() {
        jQuery("#preview").prop('src', "public/preview?css=" + jQuery("#css").val() + "&html=" + tinyMCE.activeEditor.getContent());
    }
    function print() {
        jQuery.get("public/printpreview?html=" + tinyMCE.activeEditor.getContent());
    }
</script>
<form method="get" action="public/preview" target="_self">
    <textarea id="html" name="html">Hello, World!</textarea>
    <textarea id="css" name="css" rows="10" cols="80">
        body {
           font-family:Tahoma, Geneva, sans-serif;
           margin:0;
        }
        
        p {
          margin:0;
          line-height:170px;
          font-size:113px;
          display:block;
        }


    </textarea>
    <br/>
    <input type="button" value="Preview" onclick="generatePreview();"/>
    <input type="button" value="Print" onclick="print();"/>
</form>

<img id="preview" border="1"/>
<script>
    jQuery("#css,#html").keydown(function (e) {
        if (e.keyCode == 13 && e.ctrlKey) {
            generatePreview();
            e.preventDefault();
        }
    });
</script>
</body>
</html>